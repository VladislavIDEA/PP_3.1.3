<div class="modal-header bg-dark text-white">
    <h5 class="modal-title">Edit User</h5>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body">
    <form th:action="@{/admin/edit}" method="post" th:object="${user}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <input type="hidden" th:field="*{id}"/>

        <div class="mb-3">
            <label class="form-label">First name</label>
            <input type="text" class="form-control" th:field="*{firstName}" required>
            <div class="invalid-feedback" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label">Last name</label>
            <input type="text" class="form-control" th:field="*{lastName}" required>
            <div class="invalid-feedback" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" th:field="*{email}" required>
            <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label">Password</label>
            <input type="password" class="form-control" th:field="*{password}" required>
            <div class="invalid-feedback" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label">Roles</label>
            <div class="d-flex flex-column gap-2">
                <div th:each="role : ${allRoles}" class="form-check">
                    <input class="form-check-input" type="checkbox"
                           th:id="${'role_' + role.name}"
                           th:value="${role.name}"
                           th:field="*{roles}">
                    <label class="form-check-label" th:for="${'role_' + role.name}"
                           th:text="${role.name}"></label>
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-primary">Update</button>
        </div>
    </form>
</div>